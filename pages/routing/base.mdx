# Base Routes
Many of the routes Anime and Manga use are shared due to how the backend works. The following are common routes used by both.

## Searching
Searches AniList and maps the data to other providers.
```
/search/{type}/{query}
```
| Parameter |  Type  | Description                                                       | Required? | Default |
| :-------: | :----: | ----------------------------------------------------------------- | :-------: | :-----: |
|   type   | string | The type of media. Must be either `anime`, `manga`, or `novel`. |    Yes    |  `""`   |
|   query   | string | Name of the media you're searching for. |    Yes    |  `""`   |

```
/search?type={type}&query={query}
```
| Parameter |  Type  | Description                                                       | Required? | Default |
| :-------: | :----: | ----------------------------------------------------------------- | :-------: | :-----: |
|   type   | string | The type of media. Must be either `anime`, `manga`, or `novel`. |    Yes    |  `""`   |
|   query   | string | Name of the media you're searching for. |    Yes    |  `""`   |

### POST
```
/search
```
#### Body Example:
```json
{ "type": "{string}", "query": "{string}" }
```

Request can be either a `POST` or `GET` request.
```javascript
const axios = require("axios");

const url = "https://api.anify.tv/search/anime/Overlord";
const data = async () => {
    try {
        const { data } = await axios.get(url);
        return data;
    } catch (err) {
        throw new Error(err.message);
    }
};
 
console.log(data);
```

### Response Body Ex.
```json
[
    {
        "id": "123456",
        ...
    },
    {
        "id": "123456",
        ...
    }
]
```

## Seasonal
Fetches seasonal media from AniList and maps to providers. Returns an array of trending, seasonal (if anime), top, and popular media based on AniList data.
```
/seasonal/{type}
```
| Parameter |  Type  | Description                                                       | Required? | Default |
| :-------: | :----: | ----------------------------------------------------------------- | :-------: | :-----: |
|   type   | string | The type of media. Must be either `anime`, `manga`, or `novel`. |    Yes    |  `""`   |

```
/seasonal?type={type}
```
| Parameter |  Type  | Description                                                       | Required? | Default |
| :-------: | :----: | ----------------------------------------------------------------- | :-------: | :-----: |
|   type   | string | The type of media. Must be either `anime`, `manga`, or `novel`. |    Yes    |  `""`   |

### POST
```
/seasonal
```
#### Body Example:
```json
{ "type": "{type}" }
```

Request can be either a `POST` or `GET` request.
```javascript
const axios = require("axios");

const url = "https://api.anify.tv/seasonal/anime";
const data = async () => {
    try {
        const { data } = await axios.get(url);
        return data;
    } catch (err) {
        throw new Error(err.message);
    }
};
 
console.log(data);
```

### Response Body Ex.
```json
{
    "trending": [],
    "popular": [],
    "top": [],
    "seasonal": []
}
```

## Information
Fetches information about a media. Returns the mappings for it as well as info mapped across AniList, Kitsu, and MAL.
```
/info/{id}
```
| Parameter |  Type  | Description                                                       | Required? | Default |
| :-------: | :----: | ----------------------------------------------------------------- | :-------: | :-----: |
|    id     | string | The AniList ID for that media. |    Yes    |  `""`   |

```
/info?id={id}
```
| Parameter |  Type  | Description                                                       | Required? | Default |
| :-------: | :----: | ----------------------------------------------------------------- | :-------: | :-----: |
|    id     | string | The AniList ID for that media. |    Yes    |  `""`   |

### POST
```
/info
```
#### Body Example:
```json
{ "id": "{id}" }
```

Request can be either a `POST` or `GET` request.
```javascript
const axios = require("axios");

const url = "https://api.anify.tv/info/21";
const data = async () => {
    try {
        const { data } = await axios.get(url);
        return data;
    } catch (err) {
        throw new Error(err.message);
    }
};
 
console.log(data);
```

### Response Schema Ex.
```json
{
    "id": "12189",
    "malId": "12189",
    "slug": "hyouka",
    "kitsuId": "",
    "coverImage": "https://s4.anilist.co/file/anilistcdn/media/anime/cover/large/bx12189-eBb6fcM21Zh7.jpg",
    "bannerImage": "https://s4.anilist.co/file/anilistcdn/media/anime/banner/12189-TG0peUcKFqur.jpg",
    "trailer": "https://www.youtube.com/watch?v=N5nNKAVB4O4",
    "status": "FINISHED",
    "season": "SPRING",
    "title": {
        "native": "氷菓",
        "romaji": "Hyouka",
        "english": "Hyouka"
    },
    "currentEpisode": 22,
    "mappings": [
        {
            "id": "/category/hyouka",
            "providerId": "gogoanime",
            "similarity": {
                "same": true,
                "value": 1
            }
        },
        {
            "id": "/category/hyouka-dub",
            "providerId": "gogoanime",
            "similarity": {
                "same": true,
                "value": 1
            }
        },
        {
            "id": "/hyouka-349?ref=search",
            "providerId": "zoro",
            "similarity": {
                "same": true,
                "value": 1
            }
        },
        {
            "id": "146",
            "providerId": "animepahe",
            "similarity": {
                "same": true,
                "value": 1
            }
        },
        {
            "id": "/tv/65329",
            "providerId": "tmdb",
            "similarity": {
                "same": true,
                "value": 1
            }
        }
    ],
    "synonyms": [
        "Hyouka: Forbidden Secrets",
        "เฮียวกะปริศนาความทรงจำ",
        "Хёка",
        "Hyou-ka",
        "Hyouka: You can't escape",
        "Hyou-ka: You can't escape",
        "Hyoka"
    ],
    "countryOfOrigin": "JP",
    "description": "Energy-conservative high school student Houtarou Oreki ends up with more than he bargained for when he signs up for the Classic Literature Club at his sister's behest—especially when he realizes how deep-rooted the club's history really is. Begrudgingly, Oreki is dragged into an investigation concerning the 45-year-old mystery that surrounds the club room.<br>\n<br>\nAccompanied by his fellow club members, the knowledgeable Satoshi Fukube, the stern but benign Mayaka Ibara, and the ever-curious Eru Chitanda, Oreki must combat deadlines and lack of information with resourcefulness and hidden talent, in order to not only find the truth buried beneath the dust of works created years before them, but of other side cases as well.<br>\n<br>\nBased on the award-winning Koten-bu light novel series, and directed by Yasuhiro Takemoto of Suzumiya Haruhi no Shoushitsu, Hyouka shows that normal life can be full of small mysteries, be it family history, a student film, or even the withered flowers that make up a ghost story.<br>\n<br>\n(Source: MAL Rewrite)",
    "duration": 26,
    "color": null,
    "year": 2012,
    "rating": {
        "mal": 8.08,
        "kitsu": 0,
        "anilist": 7.9
    },
    "popularity": {
        "mal": 90,
        "kitsu": 0,
        "anilist": 240127
    },
    "type": "ANIME",
    "format": "TV",
    "relations": [],
    "totalEpisodes": 22,
    "genres": [
        "Mystery",
        "Romance",
        "Slice of Life"
    ],
    "tags": [
        "School Club",
        "Detective",
        "School",
        "Male Protagonist",
        "Primarily Teen Cast",
        "Philosophy",
        "Coming of Age",
        "Heterosexual",
        "Episodic",
        "Classic Literature",
        "Female Protagonist",
        "Surreal Comedy",
        "Rural",
        "Otaku Culture",
        "Cute Boys Doing Cute Things",
        "Shrine Maiden",
        "Cosplay",
        "Bullying"
    ],
    "episodes": {
        "data": [{
                "episodes": [
                    {
                        "id": "/hyouka-dub-episode-1",
                        "img": null,
                        "title": "EP 1",
                        "hasDub": true,
                        "number": 1,
                        "isFiller": false
                    }
                ],
                "providerId": "gogoanime"
            },
            {
                "episodes": [
                    {
                        "id": "/watch/hyouka-349?ep=7783",
                        "img": null,
                        "title": "The Revival of the Long-established Classic Literature Club",
                        "hasDub": true,
                        "number": 1,
                        "isFiller": false
                    }
                ],
                "providerId": "zoro"
            },
            {
                "episodes": [
                    {
                        "id": "/hyouka-episode-1",
                        "img": null,
                        "title": "EP 1",
                        "hasDub": false,
                        "number": 1,
                        "isFiller": false
                    }
                ],
                "providerId": "gogoanime"
            },
            {
                "episodes": [
                    {
                        "id": "9745-146",
                        "img": "https://i.animepahe.com/snapshots/90a2d31ed94566581873b06dca3590c6.jpg",
                        "title": "Episode 1",
                        "hasDub": false,
                        "number": 1,
                        "isFiller": false
                    }
                ],
                "providerId": "animepahe"
            }
        ],
        "updatedAt": 1684641997834
    },
    "averageRating": 7.99,
    "averagePopularity": 120108.5
}
```